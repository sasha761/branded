!function(){function t(t,e,i,a){Object.defineProperty(t,e,{get:i,set:a,enumerable:!0,configurable:!0})}(0,("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire94c2.register)("aSGSW",function(e,i){function a(t){let e=document.getElementById(`tmpl-${t}`);if(!e)return function(){return""};let i=e.textContent;return/<#\s?data\.|{{{?\s?data\.(?!variation\.).+}}}?|{{{?\s?data\.variation\.[\w-]*[^\s}]/.test(i)&&"undefined"!=typeof wp&&wp.template?wp.template(t):function(t){let e=t?.variation||{};return i.replace(/({{{?)\s?data\.variation\.([\w-]+)\s?(}}}?)/g,(t,i,a,n)=>{var o;let s=e[a]||"";return 2===i.length?("string"!=typeof(o=s)&&(o=String(o)),o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")):s}).replace("/*<![CDATA[*/","").replace("/*]]>*/","")}}function n(t,e){t.dataset.o_content||(t.dataset.o_content=t.textContent),t.textContent=e}function o(t){void 0!==t.dataset.o_content&&(t.textContent=t.dataset.o_content)}function s(t,e,i){void 0===t.dataset[`o_${e}`]&&(t.dataset[`o_${e}`]=t.getAttribute(e)??""),!1===i?t.removeAttribute(e):t.setAttribute(e,i)}function r(t,e){let i=t.dataset[`o_${e}`];void 0!==i&&(""===i?t.removeAttribute(e):t.setAttribute(e,i))}function l(t){let e=t.closest(".product");if(!e)return;let i=e.querySelector(".images"),a=e.querySelector(".flex-control-nav"),n=a?.querySelector("li:nth-child(1) img"),o=i?.querySelector(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder"),s=o?.querySelector(".wp-post-image"),l=o?.querySelector("a");s&&(r(s,"src"),r(s,"width"),r(s,"height"),r(s,"srcset"),r(s,"sizes"),r(s,"title"),r(s,"data-caption"),r(s,"alt"),r(s,"data-src"),r(s,"data-large_image"),r(s,"data-large_image_width"),r(s,"data-large_image_height")),o&&r(o,"data-thumb"),n&&r(n,"src"),l&&r(l,"href")}t(e.exports,"VariationForm",function(){return c}),t(e.exports,"initVariationForms",function(){return d});class c{constructor(t){this.formEl=t,this.attributeFields=t.querySelectorAll(".variations select"),this.singleVariation=t.querySelector(".single_variation"),this.singleVariationWrap=t.querySelector(".single_variation_wrap"),this.resetVariationsBtn=t.querySelector(".reset_variations"),this.resetAlert=t.querySelector(".reset_variations_alert"),this.productEl=t.closest(".product");try{let e=t.dataset.product_variations;this.variationData=e?JSON.parse(e):null}catch(t){this.variationData=null}this.useAjax=null===this.variationData||!1===this.variationData,this.xhr=null,this.loading=!0,this.singleVariationWrap&&(this.singleVariationWrap.style.display="block"),this.onReset=this.onReset.bind(this),this.onReload=this.onReload.bind(this),this.onHide=this.onHide.bind(this),this.onShow=this.onShow.bind(this),this.onAddToCart=this.onAddToCart.bind(this),this.onResetDisplayedVariation=this.onResetDisplayedVariation.bind(this),this.onAnnounceReset=this.onAnnounceReset.bind(this),this.onResetVariationFocus=this.onResetVariationFocus.bind(this),this.onClearResetAnnouncement=this.onClearResetAnnouncement.bind(this),this.onResetImage=this.onResetImage.bind(this),this.onChange=this.onChange.bind(this),this.onFoundVariation=this.onFoundVariation.bind(this),this.onFindVariation=this.onFindVariation.bind(this),this.onUpdateAttributes=this.onUpdateAttributes.bind(this),this.addEvents(),setTimeout(()=>{this.formEl.dispatchEvent(new CustomEvent("check_variations"));let t=new CustomEvent("wc_variation_form",{detail:this});this.formEl.dispatchEvent(t),this.loading=!1},100)}addEvents(){this.resetVariationsBtn&&this.resetVariationsBtn.addEventListener("click",this.onReset),this.formEl.addEventListener("reload_product_variations",this.onReload),this.formEl.addEventListener("hide_variation",this.onHide),this.formEl.addEventListener("show_variation",t=>this.onShow(t)),this.formEl.addEventListener("click",this.onAddToCart),this.formEl.addEventListener("reset_data",this.onResetDisplayedVariation),this.formEl.addEventListener("reset_focus",this.onResetVariationFocus),this.formEl.addEventListener("announce_reset",this.onAnnounceReset),this.formEl.addEventListener("clear_reset_announcement",this.onClearResetAnnouncement),this.formEl.addEventListener("reset_image",this.onResetImage),this.attributeFields.forEach(t=>{t.addEventListener("change",this.onChange)}),this.formEl.addEventListener("found_variation",t=>{let e=t.detail?.[0];this.onFoundVariation(t,e)}),this.formEl.addEventListener("check_variations",t=>{this.onFindVariation(t,void 0)}),this.formEl.addEventListener("update_variation_values",this.onUpdateAttributes)}onReset(t){t.preventDefault(),this.attributeFields.forEach(t=>{t.value="";let e=new Event("change",{bubbles:!0});t.dispatchEvent(e)}),this.formEl.dispatchEvent(new Event("announce_reset")),this.formEl.dispatchEvent(new Event("reset_data")),this.formEl.dispatchEvent(new Event("reset_focus"))}onReload(t){try{let t=this.formEl.dataset.product_variations;this.variationData=t?JSON.parse(t):null}catch(t){this.variationData=null}this.useAjax=null===this.variationData||!1===this.variationData,this.formEl.dispatchEvent(new CustomEvent("check_variations"))}onHide(t){t.preventDefault();let e=this.formEl.querySelector(".single_add_to_cart_button");e&&(e.classList.remove("wc-variation-is-unavailable"),e.classList.add("disabled","wc-variation-selection-needed"));let i=this.formEl.querySelector(".woocommerce-variation-add-to-cart");i&&(i.classList.remove("woocommerce-variation-add-to-cart-enabled"),i.classList.add("woocommerce-variation-add-to-cart-disabled"))}onShow(t){let[e,i]=t.detail||[];if(i){let t=this.formEl.querySelector(".single_add_to_cart_button");t&&t.classList.remove("disabled","wc-variation-selection-needed","wc-variation-is-unavailable");let e=this.formEl.querySelector(".woocommerce-variation-add-to-cart");e&&(e.classList.remove("woocommerce-variation-add-to-cart-disabled"),e.classList.add("woocommerce-variation-add-to-cart-enabled"))}else{let t=this.formEl.querySelector(".single_add_to_cart_button");t&&(t.classList.remove("wc-variation-selection-needed"),t.classList.add("disabled","wc-variation-is-unavailable"));let e=this.formEl.querySelector(".woocommerce-variation-add-to-cart");e&&(e.classList.remove("woocommerce-variation-add-to-cart-enabled"),e.classList.add("woocommerce-variation-add-to-cart-disabled"))}window.wp?.mediaelement&&this.formEl.querySelectorAll(".wp-audio-shortcode, .wp-video-shortcode").forEach(t=>{t.closest(".mejs-mediaelement")||window.wp.mediaelement.initialize()})}onAddToCart(t){let e=t.target.closest(".single_add_to_cart_button");e&&e.classList.contains("disabled")&&(t.preventDefault(),e.classList.contains("wc-variation-is-unavailable")?window.alert(wc_add_to_cart_variation_params.i18n_unavailable_text):e.classList.contains("wc-variation-selection-needed")&&window.alert(wc_add_to_cart_variation_params.i18n_make_a_selection_text))}onResetDisplayedVariation(t){(this.productEl?.querySelectorAll(".product_meta .sku")||[]).forEach(t=>o(t)),(this.productEl?.querySelectorAll(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value")||[]).forEach(t=>o(t)),(this.productEl?.querySelectorAll(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value")||[]).forEach(t=>o(t)),this.formEl.dispatchEvent(new CustomEvent("reset_image")),this.singleVariation&&(this.singleVariation.style.display="none");let e=new CustomEvent("hide_variation");this.formEl.dispatchEvent(e)}onAnnounceReset(t){this.resetAlert&&(this.resetAlert.textContent=wc_add_to_cart_variation_params.i18n_reset_alert_text)}onResetVariationFocus(t){this.attributeFields.length>0&&this.attributeFields[0].focus()}onClearResetAnnouncement(t){this.resetAlert&&(this.resetAlert.textContent="")}onResetImage(t){l(this.formEl)}onChange(t){let e=this.formEl.querySelector('input[name="variation_id"], input.variation_id');if(e&&(e.value="",e.dispatchEvent(new Event("change",{bubbles:!0}))),this.formEl.dispatchEvent(new Event("clear_reset_announcement")),this.formEl.querySelectorAll(".wc-no-matching-variations").forEach(t=>t.parentNode.remove()),this.useAjax)this.formEl.dispatchEvent(new CustomEvent("check_variations"));else{let t=new CustomEvent("woocommerce_variation_select_change");this.formEl.dispatchEvent(t),this.formEl.dispatchEvent(new CustomEvent("check_variations"))}this.formEl.dispatchEvent(new CustomEvent("woocommerce_variation_has_changed"))}onFoundVariation(t,e){let i=this.productEl?.querySelectorAll(".product_meta .sku")||[],r=this.productEl?.querySelectorAll(".product_weight, .woocommerce-product-attributes-item--weight .woocommerce-product-attributes-item__value")||[],c=this.productEl?.querySelectorAll(".product_dimensions, .woocommerce-product-attributes-item--dimensions .woocommerce-product-attributes-item__value")||[],d=this.singleVariationWrap?.querySelector('.quantity input.qty[name="quantity"]'),h=d?.closest(".quantity"),u=!0,m="";if(e?.sku?i.forEach(t=>n(t,e.sku)):i.forEach(t=>o(t)),e?.weight?r.forEach(t=>n(t,e.weight_html)):r.forEach(t=>o(t)),e?.dimensions?c.forEach(t=>n(t,e.dimensions_html)):c.forEach(t=>o(t)),!function(t,e){let i=t.closest(".product");if(!i)return;let a=i.querySelector(".images"),n=i.querySelector(".flex-control-nav"),o=n?.querySelector("li:nth-child(1) img"),r=a?.querySelector(".woocommerce-product-gallery__image, .woocommerce-product-gallery__image--placeholder"),c=r?.querySelector(".wp-post-image"),d=r?.querySelector("a");if(e&&e.image&&e.image.src&&e.image.src.length>1){if(n){n.querySelector(`li img[data-o_src="${e.image.gallery_thumbnail_src}"]`)&&l(t);let i=n.querySelector(`li img[src="${e.image.gallery_thumbnail_src}"]`);if(i){let n=new CustomEvent("flexslider-click",{bubbles:!0});i.dispatchEvent(n),t.setAttribute("current-image",e.image_id),setTimeout(()=>{window.dispatchEvent(new Event("resize"));let t=new CustomEvent("woocommerce_gallery_init_zoom",{bubbles:!0});a?.dispatchEvent(t)},20);return}}c&&(s(c,"src",e.image.src),s(c,"width",e.image.src_w),s(c,"height",e.image.src_h),s(c,"srcset",e.image.srcset),s(c,"sizes",e.image.sizes),s(c,"title",e.image.title),s(c,"data-caption",e.image.caption),s(c,"alt",e.image.alt),s(c,"data-src",e.image.full_src),s(c,"data-large_image",e.image.full_src),s(c,"data-large_image_width",e.image.full_src_w),s(c,"data-large_image_height",e.image.full_src_h)),r&&s(r,"data-thumb",e.image.src),o&&s(o,"src",e.image.gallery_thumbnail_src),d&&s(d,"href",e.image.full_src)}else l(t);setTimeout(()=>{if(window.dispatchEvent(new Event("resize")),function(t,e){let i=e&&e.image_id?e.image_id:"";if(t.getAttribute("current-image")!==i){let e=t.closest(".product")?.querySelector(".images");if(e){let t=new CustomEvent("woocommerce_gallery_reset_slide_position",{bubbles:!0});e.dispatchEvent(t)}}t.setAttribute("current-image",i)}(t,e),a){let t=new CustomEvent("woocommerce_gallery_init_zoom",{bubbles:!0});a.dispatchEvent(t)}},20)}(this.formEl,e),e.variation_is_visible?(m=a("variation-template")({variation:e}),e.variation_id):m=a("unavailable-variation-template")({variation:e}),this.singleVariation&&(this.singleVariation.innerHTML=m),this.formEl.querySelectorAll('input[name="variation_id"], input.variation_id').forEach(t=>{t.value=e.variation_id,t.dispatchEvent(new Event("change",{bubbles:!0}))}),"yes"===e.is_sold_individually)d&&(d.value="1",d.setAttribute("min","1"),d.removeAttribute("max"),d.dispatchEvent(new Event("change",{bubbles:!0}))),h&&(h.style.display="none");else if(h&&(h.style.display=""),d){let t=parseFloat(d.value);isNaN(t)?t=e.min_qty:(t>parseFloat(e.max_qty)&&(t=e.max_qty),t<parseFloat(e.min_qty)&&(t=e.min_qty)),d.setAttribute("min",e.min_qty),d.setAttribute("max",e.max_qty),d.value=t,d.dispatchEvent(new Event("change",{bubbles:!0}))}if(e.is_purchasable&&e.is_in_stock&&e.variation_is_visible||(u=!1),this.singleVariation){if(this.singleVariation.textContent.trim()){this.singleVariation.style.display="";let t=new CustomEvent("show_variation",{detail:[e,u],bubbles:!0});this.formEl.dispatchEvent(t)}else{this.singleVariation.style.display="";let t=new CustomEvent("show_variation",{detail:[e,u],bubbles:!0});this.formEl.dispatchEvent(t)}}}onFindVariation(t,e){let i=e||this.getChosenAttributes(),a=i.data;if(i.count&&i.count===i.chosenCount){if(this.useAjax){this.xhr&&this.xhr.abort(),this.formEl,a.product_id=parseInt(this.formEl.dataset.product_id||"0",10),a.custom_data=this.formEl.dataset.custom_data||"";let t=wc_add_to_cart_variation_params.wc_ajax_url.toString().replace("%%endpoint%%","get_variation");this.xhr=fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams(a)}).then(t=>t.json()).then(t=>{if(t){let e=new CustomEvent("found_variation",{detail:[t]});this.formEl.dispatchEvent(e)}else this.formEl.dispatchEvent(new Event("reset_data")),i.chosenCount=0,this.loading||this.showNoMatchingVariationsMsg()}).finally(()=>{this.formEl})}else{this.formEl.dispatchEvent(new Event("update_variation_values"));let t=this.findMatchingVariations(this.variationData,a).shift();if(t){let e=new CustomEvent("found_variation",{detail:[t]});this.formEl.dispatchEvent(e)}else this.formEl.dispatchEvent(new Event("reset_data")),i.chosenCount=0,this.loading||this.showNoMatchingVariationsMsg()}}else this.formEl.dispatchEvent(new Event("update_variation_values")),this.formEl.dispatchEvent(new Event("reset_data"));this.toggleResetLink(i.chosenCount>0)}onUpdateAttributes(t){if(this.useAjax)return;let e=this.getChosenAttributes().data;this.attributeFields.forEach(t=>{let i=t.dataset.show_option_none,a=t.dataset.attribute_name||t.name,n=t.value||"",o=!0;t.dataset.attribute_html||(t.dataset.attribute_html=t.innerHTML);let s=document.createElement("select");s.innerHTML=t.dataset.attribute_html;let r={...e};r[a]="";let l=this.findMatchingVariations(this.variationData,r);for(let t=0;t<l.length;t++){let e=l[t],i=e.attributes;for(let t in i)if(Object.hasOwnProperty.call(i,t)){let n=i[t];if(t===a){let t="";if(e.variation_is_active&&(t="enabled"),n){let e=s.querySelectorAll("option");for(let i=0;i<e.length;i++){let a=e[i];if(a.value===n){a.classList.add("attached",t);break}}}else s.querySelectorAll("option:nth-child(n+2)").forEach(e=>{e.classList.add("attached",t)})}}}let c=s.querySelectorAll("option.attached").length;if(n&&(o=!1,c>0&&s.querySelectorAll("option.attached.enabled").forEach(t=>{t.value===n&&(o=!0)})),c>0&&n&&o&&"no"===i){let t=s.querySelector("option");t&&s.removeChild(t)}s.querySelectorAll("option:not(.attached)").forEach(t=>{t!==s.querySelector("option")&&t.remove()}),s.querySelectorAll("option.attached:not(.enabled)").forEach(t=>{t.disabled=!0}),t.innerHTML=s.innerHTML,n?o?t.value=n:(t.value="",t.dispatchEvent(new Event("change",{bubbles:!0}))):t.value=""});let i=new CustomEvent("woocommerce_update_variation_values");this.formEl.dispatchEvent(i)}getChosenAttributes(){let t={},e=0,i=0;return this.attributeFields.forEach(a=>{let n=a.dataset.attribute_name||a.name,o=a.value||"";o.length>0&&i++,e++,t[n]=o}),{count:e,chosenCount:i,data:t}}findMatchingVariations(t,e){if(!t||!Array.isArray(t))return[];let i=[];for(let a=0;a<t.length;a++){let n=t[a];this.isMatch(n.attributes,e)&&i.push(n)}return i}isMatch(t,e){for(let i in t)if(Object.hasOwnProperty.call(t,i)){let a=t[i],n=e[i];if(void 0!==a&&void 0!==n&&0!==a.length&&0!==n.length&&a!==n)return!1}return!0}toggleResetLink(t){this.resetAlert&&(this.resetAlert.textContent=""),this.resetVariationsBtn&&(t?(this.resetVariationsBtn.style.visibility="visible",this.resetVariationsBtn.style.display="inline-block"):(this.resetVariationsBtn.style.visibility="hidden",this.resetVariationsBtn.style.display="none"))}showNoMatchingVariationsMsg(){let t=document.createElement("div");t.setAttribute("role","alert");let e=document.createElement("p");e.classList.add("wc-no-matching-variations","woocommerce-info"),e.textContent=wc_add_to_cart_variation_params.i18n_no_matching_variations_text,t.appendChild(e),this.singleVariation?.parentNode&&(this.singleVariation.insertAdjacentElement("afterend",t),e.style.display="block")}}function d(){document.querySelectorAll(".variations_form").forEach(t=>{t.__variationFormInstance||(t.__variationFormInstance=new c(t))})}})}();